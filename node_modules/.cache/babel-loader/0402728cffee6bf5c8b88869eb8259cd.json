{"ast":null,"code":"/* Source: https://observablehq.com/@d3/color-legend */\nimport * as d3 from 'd3';\n\nfunction legend({\n  color,\n  title,\n  tickSize = 6,\n  width = 320,\n  height = 44 + tickSize,\n  marginTop = 18,\n  marginRight = 0,\n  marginBottom = 16 + tickSize,\n  marginLeft = 0,\n  ticks = width / 64,\n  tickFormat,\n  tickValues\n} = {}) {\n  const svg = d3.create('svg').attr('width', width).attr('height', height).attr('viewBox', [0, 0, width, height]).style('overflow', 'visible').style('display', 'block');\n\n  let tickAdjust = g => {\n    const ticks = g.selectAll('.tick line');\n    ticks.attr('y1', marginTop + marginBottom - height); // d3.select(ticks.nodes()[ticks.size() - 1]).remove();\n  };\n\n  let x; // Continuous\n\n  if (color.interpolate) {\n    const n = Math.min(color.domain().length, color.range().length);\n    x = color.copy().rangeRound(d3.quantize(d3.interpolate(marginLeft, width - marginRight), n));\n    svg.append('image').attr('x', marginLeft).attr('y', marginTop).attr('width', width - marginLeft - marginRight).attr('height', height - marginTop - marginBottom).attr('preserveAspectRatio', 'none').attr('xlink:href', ramp(color.copy().domain(d3.quantize(d3.interpolate(0, 1), n))).toDataURL());\n  } // Sequential\n  else if (color.interpolator) {\n      x = Object.assign(color.copy().interpolator(d3.interpolateRound(marginLeft, width - marginRight)), {\n        range() {\n          return [marginLeft, width - marginRight];\n        }\n\n      });\n      svg.append('image').attr('x', marginLeft).attr('y', marginTop).attr('width', width - marginLeft - marginRight).attr('height', height - marginTop - marginBottom).attr('preserveAspectRatio', 'none').attr('xlink:href', ramp(color.interpolator()).toDataURL()); // scaleSequentialQuantile doesnâ€™t implement ticks or tickFormat.\n\n      if (!x.ticks) {\n        if (tickValues === undefined) {\n          const n = Math.round(ticks + 1);\n          tickValues = d3.range(n).map(i => d3.quantile(color.domain(), i / (n - 1)));\n        }\n\n        if (typeof tickFormat !== 'function') {\n          tickFormat = d3.format(tickFormat === undefined ? ',f' : tickFormat);\n        }\n      }\n    } // Threshold\n    else if (color.invertExtent) {\n        const thresholds = color.thresholds ? color.thresholds() // scaleQuantize\n        : color.quantiles ? color.quantiles() // scaleQuantile\n        : color.domain(); // scaleThreshold\n\n        const thresholdFormat = tickFormat === undefined ? d => d : typeof tickFormat === 'string' ? d3.format(tickFormat) : tickFormat;\n        x = d3.scaleLinear().domain([-1, color.range().length - 1]).rangeRound([marginLeft, width - marginRight]);\n        svg.append('g').selectAll('rect').data(color.range()).join('rect').attr('x', (d, i) => x(i - 1)).attr('y', marginTop).attr('width', (d, i) => x(i) - x(i - 1)).attr('height', height - marginTop - marginBottom).attr('fill', d => d);\n        tickValues = d3.range(-1, thresholds.length);\n\n        tickFormat = i => {\n          if (i === -1) return thresholdFormat(1);else if (i === thresholds.length - 1) return;else if (i === thresholds.length - 2) return thresholdFormat(thresholds[i] + '+', i);\n          return thresholdFormat(thresholds[i], i);\n        };\n      } // Ordinal\n      else {\n          x = d3.scaleBand().domain(color.domain()).rangeRound([marginLeft, width - marginRight]);\n          svg.append('g').selectAll('rect').data(color.domain()).join('rect').attr('x', x).attr('y', marginTop).attr('width', Math.max(0, x.bandwidth() - 1)).attr('height', height - marginTop - marginBottom).attr('fill', color);\n\n          tickAdjust = () => {};\n        }\n\n  svg.append('g').attr('transform', `translate(0,${height - marginBottom})`).call(d3.axisBottom(x).ticks(ticks, typeof tickFormat === 'string' ? tickFormat : undefined).tickFormat(typeof tickFormat === 'function' ? tickFormat : undefined).tickSize(tickSize).tickValues(tickValues)).call(tickAdjust).call(g => g.select('.domain').remove()).call(g => g.append('text').attr('x', marginLeft).attr('y', marginTop + marginBottom - height - 6).attr('fill', 'currentColor').attr('text-anchor', 'start').attr('font-weight', 'bold').text(title));\n  return svg.node();\n}\n\nfunction ramp(color, n = 256) {\n  const canvas = document.createElement('canvas');\n  const context = (canvas.width = n, canvas.height = 1, canvas).getContext('2d');\n\n  for (let i = 0; i < n; ++i) {\n    context.fillStyle = color(i / (n - 1));\n    context.fillRect(i, 0, 1, 1);\n  }\n\n  return canvas;\n}\n\nexport default legend;","map":{"version":3,"sources":["/Users/maclaptop/Documents/GitHub/ashokpandey.com/src/components/legend.js"],"names":["d3","legend","color","title","tickSize","width","height","marginTop","marginRight","marginBottom","marginLeft","ticks","tickFormat","tickValues","svg","create","attr","style","tickAdjust","g","selectAll","x","interpolate","n","Math","min","domain","length","range","copy","rangeRound","quantize","append","ramp","toDataURL","interpolator","Object","assign","interpolateRound","undefined","round","map","i","quantile","format","invertExtent","thresholds","quantiles","thresholdFormat","d","scaleLinear","data","join","scaleBand","max","bandwidth","call","axisBottom","select","remove","text","node","canvas","document","createElement","context","getContext","fillStyle","fillRect"],"mappings":"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","sourcesContent":["/* Source: https://observablehq.com/@d3/color-legend */\n\nimport * as d3 from 'd3';\n\nfunction legend({\n  color,\n  title,\n  tickSize = 6,\n  width = 320,\n  height = 44 + tickSize,\n  marginTop = 18,\n  marginRight = 0,\n  marginBottom = 16 + tickSize,\n  marginLeft = 0,\n  ticks = width / 64,\n  tickFormat,\n  tickValues,\n} = {}) {\n  const svg = d3\n    .create('svg')\n    .attr('width', width)\n    .attr('height', height)\n    .attr('viewBox', [0, 0, width, height])\n    .style('overflow', 'visible')\n    .style('display', 'block');\n\n  let tickAdjust = (g) => {\n    const ticks = g.selectAll('.tick line');\n    ticks.attr('y1', marginTop + marginBottom - height);\n    // d3.select(ticks.nodes()[ticks.size() - 1]).remove();\n  };\n  let x;\n\n  // Continuous\n  if (color.interpolate) {\n    const n = Math.min(color.domain().length, color.range().length);\n\n    x = color\n      .copy()\n      .rangeRound(\n        d3.quantize(d3.interpolate(marginLeft, width - marginRight), n)\n      );\n\n    svg\n      .append('image')\n      .attr('x', marginLeft)\n      .attr('y', marginTop)\n      .attr('width', width - marginLeft - marginRight)\n      .attr('height', height - marginTop - marginBottom)\n      .attr('preserveAspectRatio', 'none')\n      .attr(\n        'xlink:href',\n        ramp(\n          color.copy().domain(d3.quantize(d3.interpolate(0, 1), n))\n        ).toDataURL()\n      );\n  }\n\n  // Sequential\n  else if (color.interpolator) {\n    x = Object.assign(\n      color\n        .copy()\n        .interpolator(d3.interpolateRound(marginLeft, width - marginRight)),\n      {\n        range() {\n          return [marginLeft, width - marginRight];\n        },\n      }\n    );\n\n    svg\n      .append('image')\n      .attr('x', marginLeft)\n      .attr('y', marginTop)\n      .attr('width', width - marginLeft - marginRight)\n      .attr('height', height - marginTop - marginBottom)\n      .attr('preserveAspectRatio', 'none')\n      .attr('xlink:href', ramp(color.interpolator()).toDataURL());\n\n    // scaleSequentialQuantile doesnâ€™t implement ticks or tickFormat.\n    if (!x.ticks) {\n      if (tickValues === undefined) {\n        const n = Math.round(ticks + 1);\n        tickValues = d3\n          .range(n)\n          .map((i) => d3.quantile(color.domain(), i / (n - 1)));\n      }\n      if (typeof tickFormat !== 'function') {\n        tickFormat = d3.format(tickFormat === undefined ? ',f' : tickFormat);\n      }\n    }\n  }\n\n  // Threshold\n  else if (color.invertExtent) {\n    const thresholds = color.thresholds\n      ? color.thresholds() // scaleQuantize\n      : color.quantiles\n      ? color.quantiles() // scaleQuantile\n      : color.domain(); // scaleThreshold\n\n    const thresholdFormat =\n      tickFormat === undefined\n        ? (d) => d\n        : typeof tickFormat === 'string'\n        ? d3.format(tickFormat)\n        : tickFormat;\n\n    x = d3\n      .scaleLinear()\n      .domain([-1, color.range().length - 1])\n      .rangeRound([marginLeft, width - marginRight]);\n\n    svg\n      .append('g')\n      .selectAll('rect')\n      .data(color.range())\n      .join('rect')\n      .attr('x', (d, i) => x(i - 1))\n      .attr('y', marginTop)\n      .attr('width', (d, i) => x(i) - x(i - 1))\n      .attr('height', height - marginTop - marginBottom)\n      .attr('fill', (d) => d);\n\n    tickValues = d3.range(-1, thresholds.length);\n    tickFormat = (i) => {\n      if (i === -1) return thresholdFormat(1);\n      else if (i === thresholds.length - 1) return;\n      else if (i === thresholds.length - 2)\n        return thresholdFormat(thresholds[i] + '+', i);\n      return thresholdFormat(thresholds[i], i);\n    };\n  }\n\n  // Ordinal\n  else {\n    x = d3\n      .scaleBand()\n      .domain(color.domain())\n      .rangeRound([marginLeft, width - marginRight]);\n\n    svg\n      .append('g')\n      .selectAll('rect')\n      .data(color.domain())\n      .join('rect')\n      .attr('x', x)\n      .attr('y', marginTop)\n      .attr('width', Math.max(0, x.bandwidth() - 1))\n      .attr('height', height - marginTop - marginBottom)\n      .attr('fill', color);\n\n    tickAdjust = () => {};\n  }\n\n  svg\n    .append('g')\n    .attr('transform', `translate(0,${height - marginBottom})`)\n    .call(\n      d3\n        .axisBottom(x)\n        .ticks(ticks, typeof tickFormat === 'string' ? tickFormat : undefined)\n        .tickFormat(typeof tickFormat === 'function' ? tickFormat : undefined)\n        .tickSize(tickSize)\n        .tickValues(tickValues)\n    )\n    .call(tickAdjust)\n    .call((g) => g.select('.domain').remove())\n    .call((g) =>\n      g\n        .append('text')\n        .attr('x', marginLeft)\n        .attr('y', marginTop + marginBottom - height - 6)\n        .attr('fill', 'currentColor')\n        .attr('text-anchor', 'start')\n        .attr('font-weight', 'bold')\n        .text(title)\n    );\n\n  return svg.node();\n}\n\nfunction ramp(color, n = 256) {\n  const canvas = document.createElement('canvas');\n  const context = ((canvas.width = n), (canvas.height = 1), canvas).getContext(\n    '2d'\n  );\n  for (let i = 0; i < n; ++i) {\n    context.fillStyle = color(i / (n - 1));\n    context.fillRect(i, 0, 1, 1);\n  }\n  return canvas;\n}\n\nexport default legend;\n"]},"metadata":{},"sourceType":"module"}