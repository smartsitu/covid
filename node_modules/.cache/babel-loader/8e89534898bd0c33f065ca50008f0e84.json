{"ast":null,"code":"var _jsxFileName = \"/Users/maclaptop/Documents/GitHub/ashokpandey.com/src/components/table.js\";\nimport Row from './row';\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst isEqual = (prevProps, currProps) => {\n  return JSON.stringify(prevProps.rowHighlighted) === JSON.stringify(currProps.rowHighlighted);\n};\n\nfunction Table(props) {\n  const [states, setStates] = useState(props.states);\n  const [revealedStates, setRevealedStates] = useState({});\n  const [districts, setDistricts] = useState({});\n  const [count, setCount] = useState(0);\n  const [sortData, setSortData] = useState({\n    sortColumn: localStorage.getItem('state.sortColumn') ? localStorage.getItem('state.sortColumn') : 'confirmed',\n    isAscending: localStorage.getItem('state.isAscending') ? localStorage.getItem('state.isAscending') === 'true' : false\n  });\n  useEffect(() => {\n    if (props.summary === true) {\n      setStates(props.states.slice(0, 9));\n    } else {\n      setStates(props.states);\n    }\n  }, [props.states, props.summary]);\n  useEffect(() => {\n    if (props.states[0]) {\n      setRevealedStates(props.states.reduce((a, state) => {\n        return { ...a,\n          [state.state]: false\n        };\n      }, {}));\n    }\n  }, [props.states]);\n  useEffect(() => {\n    if (states.length > 0) {\n      // slice to ignore the first item which is the total count\n      setCount(states.slice(1).filter(s => s && s.confirmed > 0).length);\n    }\n  }, [states]);\n  useEffect(() => {\n    setDistricts(props.stateDistrictWiseData);\n  }, [props.stateDistrictWiseData]);\n\n  const doSort = (e, props) => {\n    const totalRow = states.splice(0, 1);\n    states.sort((StateData1, StateData2) => {\n      const sortColumn = sortData.sortColumn;\n      let value1 = StateData1[sortColumn];\n      let value2 = StateData2[sortColumn];\n\n      if (sortColumn !== 'state') {\n        value1 = parseInt(StateData1[sortColumn]);\n        value2 = parseInt(StateData2[sortColumn]);\n      }\n\n      if (sortData.isAscending) {\n        return value1 > value2 ? 1 : value1 === value2 && StateData1['state'] > StateData2['state'] ? 1 : -1;\n      } else {\n        return value1 < value2 ? 1 : value1 === value2 && StateData1['state'] > StateData2['state'] ? 1 : -1;\n      }\n    });\n    states.unshift(totalRow[0]);\n  };\n\n  const handleSort = (e, props) => {\n    const currentsortColumn = e.currentTarget.querySelector('abbr').getAttribute('title').toLowerCase();\n    const isAscending = sortData.sortColumn === currentsortColumn ? !sortData.isAscending : sortData.sortColumn === 'state';\n    setSortData({\n      sortColumn: currentsortColumn,\n      isAscending: isAscending\n    });\n    localStorage.setItem('state.sortColumn', currentsortColumn);\n    localStorage.setItem('state.isAscending', isAscending);\n  };\n\n  const handleReveal = state => {\n    setRevealedStates({ ...revealedStates,\n      [state]: !revealedStates[state]\n    });\n  };\n\n  doSort();\n\n  if (states.length > 0) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"table-fineprint fadeInUp\",\n      style: {\n        animationDelay: '1.5s'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, \"Compiled from State Govt. numbers,\", ' ', /*#__PURE__*/React.createElement(Link, {\n      to: \"/faq\",\n      style: {\n        color: '#6c757d'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, \"know more!\")), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table fadeInUp\",\n      style: {\n        animationDelay: '1.8s'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"sticky state-heading\",\n      onClick: e => handleSort(e, props),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"heading-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"abbr\", {\n      title: \"State\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, \"State/UT\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: sortData.sortColumn === 'state' ? 'initial' : 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }, sortData.isAscending ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"sticky\",\n      onClick: e => handleSort(e, props),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"heading-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"abbr\", {\n      className: `${window.innerWidth <= 769 ? 'is-cherry' : ''}`,\n      title: \"Confirmed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 19\n      }\n    }, window.innerWidth <= 769 ? window.innerWidth <= 375 ? 'C' : 'Cnfmd' : 'Confirmed'), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: sortData.sortColumn === 'confirmed' ? 'initial' : 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 19\n      }\n    }, sortData.isAscending ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"sticky\",\n      onClick: e => handleSort(e, props),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"heading-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"abbr\", {\n      className: `${window.innerWidth <= 769 ? 'is-blue' : ''}`,\n      title: \"Active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 19\n      }\n    }, window.innerWidth <= 769 ? window.innerWidth <= 375 ? 'A' : 'Actv' : 'Active'), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: sortData.sortColumn === 'active' ? 'initial' : 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 19\n      }\n    }, sortData.isAscending ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"sticky\",\n      onClick: e => handleSort(e, props),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"heading-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"abbr\", {\n      className: `${window.innerWidth <= 769 ? 'is-green' : ''}`,\n      title: \"Recovered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 19\n      }\n    }, window.innerWidth <= 769 ? window.innerWidth <= 375 ? 'R' : 'Rcvrd' : 'Recovered'), /*#__PURE__*/React.createElement(\"div\", {\n      className: sortData.sortColumn === 'recovered' ? 'sort-black' : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: sortData.sortColumn === 'recovered' ? 'initial' : 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 19\n      }\n    }, sortData.isAscending ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"sticky\",\n      onClick: e => handleSort(e, props),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"heading-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"abbr\", {\n      className: `${window.innerWidth <= 769 ? 'is-gray' : ''}`,\n      title: \"Deaths\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 19\n      }\n    }, window.innerWidth <= 769 ? window.innerWidth <= 375 ? 'D' : 'Dcsd' : 'Deceased'), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: sortData.sortColumn === 'deaths' ? 'initial' : 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 19\n      }\n    }, sortData.isAscending ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 23\n      }\n    })))))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }\n    }, states.map((state, index) => {\n      if (index !== 0 && state.confirmed > 0) {\n        return /*#__PURE__*/React.createElement(Row, {\n          key: state.state,\n          index: index,\n          state: state,\n          total: false,\n          reveal: revealedStates[state.state],\n          districts: state.state in districts ? districts[state.state].districtData : [],\n          isHighlighted: !props.rowHighlighted.isDistrict && props.rowHighlighted.statecode === state.statecode,\n          highlightedDistrict: props.rowHighlighted.isDistrict && props.rowHighlighted.statecode === state.statecode ? props.rowHighlighted.districtName : null,\n          onHighlightState: props.onHighlightState,\n          onHighlightDistrict: props.onHighlightDistrict,\n          handleReveal: handleReveal,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 19\n          }\n        });\n      }\n\n      return null;\n    })), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }\n    }, states.length > 1 && props.summary === false && /*#__PURE__*/React.createElement(Row, {\n      key: 0,\n      state: states[0],\n      total: true,\n      onHighlightState: props.onHighlightState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"table-fineprint fadeInUp\",\n      style: {\n        animationDelay: '1s'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }\n    }, count, \" States/UTS Affected\"));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '50rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 12\n      }\n    });\n  }\n}\n\nexport default React.memo(Table, isEqual);","map":{"version":3,"sources":["/Users/maclaptop/Documents/GitHub/ashokpandey.com/src/components/table.js"],"names":["Row","React","useState","useEffect","Link","isEqual","prevProps","currProps","JSON","stringify","rowHighlighted","Table","props","states","setStates","revealedStates","setRevealedStates","districts","setDistricts","count","setCount","sortData","setSortData","sortColumn","localStorage","getItem","isAscending","summary","slice","reduce","a","state","length","filter","s","confirmed","stateDistrictWiseData","doSort","e","totalRow","splice","sort","StateData1","StateData2","value1","value2","parseInt","unshift","handleSort","currentsortColumn","currentTarget","querySelector","getAttribute","toLowerCase","setItem","handleReveal","animationDelay","color","display","window","innerWidth","map","index","districtData","isDistrict","statecode","districtName","onHighlightState","onHighlightDistrict","height","memo"],"mappings":"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","sourcesContent":["import Row from './row';\n\nimport React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\n\nconst isEqual = (prevProps, currProps) => {\n  return (\n    JSON.stringify(prevProps.rowHighlighted) ===\n    JSON.stringify(currProps.rowHighlighted)\n  );\n};\n\nfunction Table(props) {\n  const [states, setStates] = useState(props.states);\n  const [revealedStates, setRevealedStates] = useState({});\n  const [districts, setDistricts] = useState({});\n  const [count, setCount] = useState(0);\n  const [sortData, setSortData] = useState({\n    sortColumn: localStorage.getItem('state.sortColumn')\n      ? localStorage.getItem('state.sortColumn')\n      : 'confirmed',\n    isAscending: localStorage.getItem('state.isAscending')\n      ? localStorage.getItem('state.isAscending') === 'true'\n      : false,\n  });\n\n  useEffect(() => {\n    if (props.summary === true) {\n      setStates(props.states.slice(0, 9));\n    } else {\n      setStates(props.states);\n    }\n  }, [props.states, props.summary]);\n\n  useEffect(() => {\n    if (props.states[0]) {\n      setRevealedStates(\n        props.states.reduce((a, state) => {\n          return {...a, [state.state]: false};\n        }, {})\n      );\n    }\n  }, [props.states]);\n\n  useEffect(() => {\n    if (states.length > 0) {\n      // slice to ignore the first item which is the total count\n      setCount(states.slice(1).filter((s) => s && s.confirmed > 0).length);\n    }\n  }, [states]);\n\n  useEffect(() => {\n    setDistricts(props.stateDistrictWiseData);\n  }, [props.stateDistrictWiseData]);\n\n  const doSort = (e, props) => {\n    const totalRow = states.splice(0, 1);\n    states.sort((StateData1, StateData2) => {\n      const sortColumn = sortData.sortColumn;\n      let value1 = StateData1[sortColumn];\n      let value2 = StateData2[sortColumn];\n\n      if (sortColumn !== 'state') {\n        value1 = parseInt(StateData1[sortColumn]);\n        value2 = parseInt(StateData2[sortColumn]);\n      }\n\n      if (sortData.isAscending) {\n        return value1 > value2\n          ? 1\n          : value1 === value2 && StateData1['state'] > StateData2['state']\n          ? 1\n          : -1;\n      } else {\n        return value1 < value2\n          ? 1\n          : value1 === value2 && StateData1['state'] > StateData2['state']\n          ? 1\n          : -1;\n      }\n    });\n    states.unshift(totalRow[0]);\n  };\n\n  const handleSort = (e, props) => {\n    const currentsortColumn = e.currentTarget\n      .querySelector('abbr')\n      .getAttribute('title')\n      .toLowerCase();\n    const isAscending =\n      sortData.sortColumn === currentsortColumn\n        ? !sortData.isAscending\n        : sortData.sortColumn === 'state';\n    setSortData({\n      sortColumn: currentsortColumn,\n      isAscending: isAscending,\n    });\n    localStorage.setItem('state.sortColumn', currentsortColumn);\n    localStorage.setItem('state.isAscending', isAscending);\n  };\n\n  const handleReveal = (state) => {\n    setRevealedStates({\n      ...revealedStates,\n      [state]: !revealedStates[state],\n    });\n  };\n\n  doSort();\n\n  if (states.length > 0) {\n    return (\n      <React.Fragment>\n        <h5\n          className=\"table-fineprint fadeInUp\"\n          style={{animationDelay: '1.5s'}}\n        >\n          Compiled from State Govt. numbers,{' '}\n          <Link to=\"/faq\" style={{color: '#6c757d'}}>\n            know more!\n          </Link>\n        </h5>\n        <table className=\"table fadeInUp\" style={{animationDelay: '1.8s'}}>\n          <thead>\n            <tr>\n              <th\n                className=\"sticky state-heading\"\n                onClick={(e) => handleSort(e, props)}\n              >\n                <div className=\"heading-content\">\n                  <abbr title=\"State\">State/UT</abbr>\n                  <div\n                    style={{\n                      display:\n                        sortData.sortColumn === 'state' ? 'initial' : 'none',\n                    }}\n                  >\n                    {sortData.isAscending ? (\n                      <div className=\"arrow-up\" />\n                    ) : (\n                      <div className=\"arrow-down\" />\n                    )}\n                  </div>\n                </div>\n              </th>\n              <th className=\"sticky\" onClick={(e) => handleSort(e, props)}>\n                <div className=\"heading-content\">\n                  <abbr\n                    className={`${window.innerWidth <= 769 ? 'is-cherry' : ''}`}\n                    title=\"Confirmed\"\n                  >\n                    {window.innerWidth <= 769\n                      ? window.innerWidth <= 375\n                        ? 'C'\n                        : 'Cnfmd'\n                      : 'Confirmed'}\n                  </abbr>\n                  <div\n                    style={{\n                      display:\n                        sortData.sortColumn === 'confirmed'\n                          ? 'initial'\n                          : 'none',\n                    }}\n                  >\n                    {sortData.isAscending ? (\n                      <div className=\"arrow-up\" />\n                    ) : (\n                      <div className=\"arrow-down\" />\n                    )}\n                  </div>\n                </div>\n              </th>\n              <th className=\"sticky\" onClick={(e) => handleSort(e, props)}>\n                <div className=\"heading-content\">\n                  <abbr\n                    className={`${window.innerWidth <= 769 ? 'is-blue' : ''}`}\n                    title=\"Active\"\n                  >\n                    {window.innerWidth <= 769\n                      ? window.innerWidth <= 375\n                        ? 'A'\n                        : 'Actv'\n                      : 'Active'}\n                  </abbr>\n                  <div\n                    style={{\n                      display:\n                        sortData.sortColumn === 'active' ? 'initial' : 'none',\n                    }}\n                  >\n                    {sortData.isAscending ? (\n                      <div className=\"arrow-up\" />\n                    ) : (\n                      <div className=\"arrow-down\" />\n                    )}\n                  </div>\n                </div>\n              </th>\n              <th className=\"sticky\" onClick={(e) => handleSort(e, props)}>\n                <div className=\"heading-content\">\n                  <abbr\n                    className={`${window.innerWidth <= 769 ? 'is-green' : ''}`}\n                    title=\"Recovered\"\n                  >\n                    {window.innerWidth <= 769\n                      ? window.innerWidth <= 375\n                        ? 'R'\n                        : 'Rcvrd'\n                      : 'Recovered'}\n                  </abbr>\n                  <div\n                    className={\n                      sortData.sortColumn === 'recovered' ? 'sort-black' : ''\n                    }\n                  ></div>\n                  <div\n                    style={{\n                      display:\n                        sortData.sortColumn === 'recovered'\n                          ? 'initial'\n                          : 'none',\n                    }}\n                  >\n                    {sortData.isAscending ? (\n                      <div className=\"arrow-up\" />\n                    ) : (\n                      <div className=\"arrow-down\" />\n                    )}\n                  </div>\n                </div>\n              </th>\n              <th className=\"sticky\" onClick={(e) => handleSort(e, props)}>\n                <div className=\"heading-content\">\n                  <abbr\n                    className={`${window.innerWidth <= 769 ? 'is-gray' : ''}`}\n                    title=\"Deaths\"\n                  >\n                    {window.innerWidth <= 769\n                      ? window.innerWidth <= 375\n                        ? 'D'\n                        : 'Dcsd'\n                      : 'Deceased'}\n                  </abbr>\n                  <div\n                    style={{\n                      display:\n                        sortData.sortColumn === 'deaths' ? 'initial' : 'none',\n                    }}\n                  >\n                    {sortData.isAscending ? (\n                      <div className=\"arrow-up\" />\n                    ) : (\n                      <div className=\"arrow-down\" />\n                    )}\n                  </div>\n                </div>\n              </th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {states.map((state, index) => {\n              if (index !== 0 && state.confirmed > 0) {\n                return (\n                  <Row\n                    key={state.state}\n                    index={index}\n                    state={state}\n                    total={false}\n                    reveal={revealedStates[state.state]}\n                    districts={\n                      state.state in districts\n                        ? districts[state.state].districtData\n                        : []\n                    }\n                    isHighlighted={\n                      !props.rowHighlighted.isDistrict &&\n                      props.rowHighlighted.statecode === state.statecode\n                    }\n                    highlightedDistrict={\n                      props.rowHighlighted.isDistrict &&\n                      props.rowHighlighted.statecode === state.statecode\n                        ? props.rowHighlighted.districtName\n                        : null\n                    }\n                    onHighlightState={props.onHighlightState}\n                    onHighlightDistrict={props.onHighlightDistrict}\n                    handleReveal={handleReveal}\n                  />\n                );\n              }\n              return null;\n            })}\n          </tbody>\n\n          <tbody>\n            {states.length > 1 && props.summary === false && (\n              <Row\n                key={0}\n                state={states[0]}\n                total={true}\n                onHighlightState={props.onHighlightState}\n              />\n            )}\n          </tbody>\n        </table>\n        <h5 className=\"table-fineprint fadeInUp\" style={{animationDelay: '1s'}}>\n          {count} States/UTS Affected\n        </h5>\n      </React.Fragment>\n    );\n  } else {\n    return <div style={{height: '50rem'}}></div>;\n  }\n}\n\nexport default React.memo(Table, isEqual);\n"]},"metadata":{},"sourceType":"module"}