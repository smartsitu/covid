{"ast":null,"code":"var _jsxFileName = \"/Users/maclaptop/Documents/GitHub/ashokpandey.com/src/components/search.js\";\nimport { STATE_CODES_ARRAY, DISTRICTS_ARRAY, STATE_CODES_REVERSE } from '../constants';\nimport Bloodhound from 'corejs-typeahead';\nimport React, { useState, useCallback, useRef } from 'react';\nimport * as Icon from 'react-feather';\nimport { Link } from 'react-router-dom';\nimport { useDebounce } from 'react-use';\nconst engine = new Bloodhound({\n  initialize: true,\n  local: STATE_CODES_ARRAY,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name')\n});\nconst districtEngine = new Bloodhound({\n  initialize: true,\n  local: DISTRICTS_ARRAY,\n  limit: 5,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('district')\n});\nconst essentialsEngine = new Bloodhound({\n  initialize: true,\n  limit: 5,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('category', 'city', 'contact', 'descriptionandorserviceprovided', 'nameoftheorganisation', 'state'),\n  indexRemote: true,\n  remote: {\n    url: 'https://api.covid19india.org/resources/resources.json',\n    transform: function (response) {\n      return response.resources;\n    }\n  }\n});\n\nfunction Search(props) {\n  const [searchValue, setSearchValue] = useState('');\n  const [expand, setExpand] = useState(false);\n  const [results, setResults] = useState([]);\n  const searchInput = useRef(null);\n  const handleSearch = useCallback(searchInput => {\n    const results = [];\n\n    const sync = datums => {\n      datums.map((result, index) => {\n        const stateObj = {\n          name: result.name,\n          type: 'state',\n          route: result.code\n        };\n        results.push(stateObj);\n        return null;\n      });\n    };\n\n    const districtSync = datums => {\n      datums.slice(0, 5).map((result, index) => {\n        const districtObj = {\n          name: result.district + ', ' + result.state,\n          type: 'state',\n          route: STATE_CODES_REVERSE[result.state]\n        };\n        results.push(districtObj);\n        return null;\n      });\n    };\n\n    const essentialsSync = datums => {\n      datums.slice(0, 5).map((result, index) => {\n        const essentialsObj = {\n          name: result.nameoftheorganisation,\n          type: 'essentials',\n          category: result.category,\n          website: result.contact,\n          description: result.descriptionandorserviceprovided,\n          city: result.city,\n          state: result.state,\n          contact: result.phonenumber\n        };\n        results.push(essentialsObj);\n        return null;\n      });\n      setResults([...results]);\n    };\n\n    const essentialsAsync = datums => {\n      // to handle async remote call on initial launch\n      essentialsEngine.search(searchInput, essentialsSync);\n    };\n\n    engine.search(searchInput, sync);\n    districtEngine.search(searchInput, districtSync);\n    essentialsEngine.search(searchInput, essentialsSync, essentialsAsync);\n  }, []);\n  useDebounce(() => {\n    if (searchValue) {\n      handleSearch(searchValue.toLowerCase());\n    } else {\n      setResults([]);\n    }\n  }, 800, [searchValue]);\n\n  function setNativeValue(element, value) {\n    const valueSetter = Object.getOwnPropertyDescriptor(element, 'value').set;\n    const prototype = Object.getPrototypeOf(element);\n    const prototypeValueSetter = Object.getOwnPropertyDescriptor(prototype, 'value').set;\n\n    if (valueSetter && valueSetter !== prototypeValueSetter) {\n      prototypeValueSetter.call(element, value);\n    } else {\n      valueSetter.call(element, value);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, \"Search your city, resources, etc\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: searchValue,\n    ref: searchInput,\n    onFocus: event => {\n      setExpand(true);\n    },\n    onBlur: () => {\n      setExpand(false);\n    },\n    onChange: event => {\n      setSearchValue(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `search-button`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Icon.Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  })), searchValue.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: `close-button`,\n    onClick: () => {\n      setSearchValue('');\n      setResults([]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Icon.X, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  })), results.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, results.map((result, index) => {\n    if (result.type === 'state') {\n      var _result$type;\n\n      return /*#__PURE__*/React.createElement(Link, {\n        key: index,\n        to: `state/${result.route}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }\n      }, result.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-type\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }\n      }, \"Visit \", result === null || result === void 0 ? void 0 : (_result$type = result.type) === null || _result$type === void 0 ? void 0 : _result$type.toLowerCase(), \" page\")));\n    } else {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: index,\n        href: result.website,\n        target: \"_noblank\",\n        className: \"essential-result\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-top-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 23\n        }\n      }, result.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-location\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 23\n        }\n      }, result.city, \", \", result.state)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-category\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 23\n        }\n      }, result.category.match('Delivery') ? 'Home Delivery' : result.category), /*#__PURE__*/React.createElement(Icon.ExternalLink, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 23\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 19\n        }\n      }, result.description), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-contact\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Icon.Phone, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }\n      }, result.contact)));\n    }\n  })), expand && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"expanded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"expanded-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }, \"Essentials\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Testing Pune');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }, \"Testing Pune\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Delhi Shelter');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 17\n    }\n  }, \"Delhi Shelter\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Community Kitchen in Kerala');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }, \"Community Kitchen in Kerala\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Groceries Chennai');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 17\n    }\n  }, \"Groceries Chennai\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Senior citizen support bangalore');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 17\n    }\n  }, \"Senior citizen support bangalore\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"expanded-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }\n  }, \"Locations\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Hyderabad');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 17\n    }\n  }, \"Hyderabad\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Karnataka');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 17\n    }\n  }, \"Karnataka\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Chennai');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 17\n    }\n  }, \"Chennai\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Jharkhand');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 17\n    }\n  }, \"Jharkhand\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Alappuzha');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 17\n    }\n  }, \"Alappuzha\"))))));\n}\n\nexport default React.memo(Search);","map":{"version":3,"sources":["/Users/maclaptop/Documents/GitHub/ashokpandey.com/src/components/search.js"],"names":["STATE_CODES_ARRAY","DISTRICTS_ARRAY","STATE_CODES_REVERSE","Bloodhound","React","useState","useCallback","useRef","Icon","Link","useDebounce","engine","initialize","local","queryTokenizer","tokenizers","whitespace","datumTokenizer","obj","districtEngine","limit","essentialsEngine","indexRemote","remote","url","transform","response","resources","Search","props","searchValue","setSearchValue","expand","setExpand","results","setResults","searchInput","handleSearch","sync","datums","map","result","index","stateObj","name","type","route","code","push","districtSync","slice","districtObj","district","state","essentialsSync","essentialsObj","nameoftheorganisation","category","website","contact","description","descriptionandorserviceprovided","city","phonenumber","essentialsAsync","search","toLowerCase","setNativeValue","element","value","valueSetter","Object","getOwnPropertyDescriptor","set","prototype","getPrototypeOf","prototypeValueSetter","call","event","target","length","match","preventDefault","current","dispatchEvent","Event","bubbles","memo"],"mappings":"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","sourcesContent":["import {\n  STATE_CODES_ARRAY,\n  DISTRICTS_ARRAY,\n  STATE_CODES_REVERSE,\n} from '../constants';\n\nimport Bloodhound from 'corejs-typeahead';\nimport React, {useState, useCallback, useRef} from 'react';\nimport * as Icon from 'react-feather';\nimport {Link} from 'react-router-dom';\nimport {useDebounce} from 'react-use';\n\nconst engine = new Bloodhound({\n  initialize: true,\n  local: STATE_CODES_ARRAY,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),\n});\n\nconst districtEngine = new Bloodhound({\n  initialize: true,\n  local: DISTRICTS_ARRAY,\n  limit: 5,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('district'),\n});\n\nconst essentialsEngine = new Bloodhound({\n  initialize: true,\n  limit: 5,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace(\n    'category',\n    'city',\n    'contact',\n    'descriptionandorserviceprovided',\n    'nameoftheorganisation',\n    'state'\n  ),\n  indexRemote: true,\n  remote: {\n    url: 'https://api.covid19india.org/resources/resources.json',\n    transform: function (response) {\n      return response.resources;\n    },\n  },\n});\n\nfunction Search(props) {\n  const [searchValue, setSearchValue] = useState('');\n  const [expand, setExpand] = useState(false);\n  const [results, setResults] = useState([]);\n  const searchInput = useRef(null);\n\n  const handleSearch = useCallback((searchInput) => {\n    const results = [];\n\n    const sync = (datums) => {\n      datums.map((result, index) => {\n        const stateObj = {\n          name: result.name,\n          type: 'state',\n          route: result.code,\n        };\n        results.push(stateObj);\n        return null;\n      });\n    };\n\n    const districtSync = (datums) => {\n      datums.slice(0, 5).map((result, index) => {\n        const districtObj = {\n          name: result.district + ', ' + result.state,\n          type: 'state',\n          route: STATE_CODES_REVERSE[result.state],\n        };\n        results.push(districtObj);\n        return null;\n      });\n    };\n\n    const essentialsSync = (datums) => {\n      datums.slice(0, 5).map((result, index) => {\n        const essentialsObj = {\n          name: result.nameoftheorganisation,\n          type: 'essentials',\n          category: result.category,\n          website: result.contact,\n          description: result.descriptionandorserviceprovided,\n          city: result.city,\n          state: result.state,\n          contact: result.phonenumber,\n        };\n        results.push(essentialsObj);\n        return null;\n      });\n      setResults([...results]);\n    };\n\n    const essentialsAsync = (datums) => {\n      // to handle async remote call on initial launch\n      essentialsEngine.search(searchInput, essentialsSync);\n    };\n\n    engine.search(searchInput, sync);\n    districtEngine.search(searchInput, districtSync);\n    essentialsEngine.search(searchInput, essentialsSync, essentialsAsync);\n  }, []);\n\n  useDebounce(\n    () => {\n      if (searchValue) {\n        handleSearch(searchValue.toLowerCase());\n      } else {\n        setResults([]);\n      }\n    },\n    800,\n    [searchValue]\n  );\n\n  function setNativeValue(element, value) {\n    const valueSetter = Object.getOwnPropertyDescriptor(element, 'value').set;\n    const prototype = Object.getPrototypeOf(element);\n    const prototypeValueSetter = Object.getOwnPropertyDescriptor(\n      prototype,\n      'value'\n    ).set;\n\n    if (valueSetter && valueSetter !== prototypeValueSetter) {\n      prototypeValueSetter.call(element, value);\n    } else {\n      valueSetter.call(element, value);\n    }\n  }\n\n  return (\n    <div className=\"Search\">\n      <label>Search your city, resources, etc</label>\n      <div className=\"line\"></div>\n\n      <input\n        type=\"text\"\n        value={searchValue}\n        ref={searchInput}\n        onFocus={(event) => {\n          setExpand(true);\n        }}\n        onBlur={() => {\n          setExpand(false);\n        }}\n        onChange={(event) => {\n          setSearchValue(event.target.value);\n        }}\n      />\n\n      <div className={`search-button`}>\n        <Icon.Search />\n      </div>\n\n      {searchValue.length > 0 && (\n        <div\n          className={`close-button`}\n          onClick={() => {\n            setSearchValue('');\n            setResults([]);\n          }}\n        >\n          <Icon.X />\n        </div>\n      )}\n\n      {results.length > 0 && (\n        <div className=\"results\">\n          {results.map((result, index) => {\n            if (result.type === 'state') {\n              return (\n                <Link key={index} to={`state/${result.route}`}>\n                  <div className=\"result\">\n                    <div className=\"result-name\">{result.name}</div>\n                    <div className=\"result-type\">\n                      Visit {result?.type?.toLowerCase()} page\n                    </div>\n                  </div>\n                </Link>\n              );\n            } else {\n              return (\n                <a\n                  key={index}\n                  href={result.website}\n                  target=\"_noblank\"\n                  className=\"essential-result\"\n                >\n                  <div className=\"result-top\">\n                    <div className=\"result-top-left\">\n                      <div className=\"result-name\">{result.name}</div>\n                      <div className=\"result-location\">\n                        {result.city}, {result.state}\n                      </div>\n                    </div>\n                    <div className=\"result-category\">\n                      <div>\n                        {result.category.match('Delivery')\n                          ? 'Home Delivery'\n                          : result.category}\n                      </div>\n                      <Icon.ExternalLink />\n                    </div>\n                  </div>\n                  <div className=\"result-description\">{result.description}</div>\n                  <div className=\"result-contact\">\n                    <Icon.Phone />\n                    <div>{result.contact}</div>\n                  </div>\n                </a>\n              );\n            }\n          })}\n        </div>\n      )}\n\n      {expand && (\n        <div className=\"expanded\">\n          <div className=\"expanded-left\">\n            <h3>Essentials</h3>\n            <div className=\"suggestions\">\n              <div className=\"suggestion\">\n                <div>-</div>\n                <h4\n                  onMouseDown={(event) => {\n                    event.preventDefault();\n                    setNativeValue(searchInput.current, 'Testing Pune');\n                    searchInput.current.dispatchEvent(\n                      new Event('input', {bubbles: true})\n                    );\n                  }}\n                >\n                  Testing Pune\n                </h4>\n              </div>\n              <div className=\"suggestion\">\n                <div>-</div>\n                <h4\n                  onMouseDown={(event) => {\n                    event.preventDefault();\n                    setNativeValue(searchInput.current, 'Delhi Shelter');\n                    searchInput.current.dispatchEvent(\n                      new Event('input', {bubbles: true})\n                    );\n                  }}\n                >\n                  Delhi Shelter\n                </h4>\n              </div>\n              <div className=\"suggestion\">\n                <div>-</div>\n                <h4\n                  onMouseDown={(event) => {\n                    event.preventDefault();\n                    setNativeValue(\n                      searchInput.current,\n                      'Community Kitchen in Kerala'\n                    );\n                    searchInput.current.dispatchEvent(\n                      new Event('input', {bubbles: true})\n                    );\n                  }}\n                >\n                  Community Kitchen in Kerala\n                </h4>\n              </div>\n              <div className=\"suggestion\">\n                <div>-</div>\n                <h4\n                  onMouseDown={(event) => {\n                    event.preventDefault();\n                    setNativeValue(searchInput.current, 'Groceries Chennai');\n                    searchInput.current.dispatchEvent(\n                      new Event('input', {bubbles: true})\n                    );\n                  }}\n                >\n                  Groceries Chennai\n                </h4>\n              </div>\n              <div className=\"suggestion\">\n                <div>-</div>\n                <h4\n                  onMouseDown={(event) => {\n                    event.preventDefault();\n                    setNativeValue(\n                      searchInput.current,\n                      'Senior citizen support bangalore'\n                    );\n                    searchInput.current.dispatchEvent(\n                      new Event('input', {bubbles: true})\n                    );\n                  }}\n                >\n                  Senior citizen support bangalore\n                </h4>\n              </div>\n            </div>\n          </div>\n          <div className=\"expanded-right\">\n            <h3>Locations</h3>\n            <div className=\"suggestions\">\n              <div className=\"suggestion\">\n                <div>-</div>\n                <h4\n                  onMouseDown={(event) => {\n                    event.preventDefault();\n                    setNativeValue(searchInput.current, 'Hyderabad');\n                    searchInput.current.dispatchEvent(\n                      new Event('input', {bubbles: true})\n                    );\n                  }}\n                >\n                  Hyderabad\n                </h4>\n              </div>\n              <div className=\"suggestion\">\n                <div>-</div>\n                <h4\n                  onMouseDown={(event) => {\n                    event.preventDefault();\n                    setNativeValue(searchInput.current, 'Karnataka');\n                    searchInput.current.dispatchEvent(\n                      new Event('input', {bubbles: true})\n                    );\n                  }}\n                >\n                  Karnataka\n                </h4>\n              </div>\n              <div className=\"suggestion\">\n                <div>-</div>\n                <h4\n                  onMouseDown={(event) => {\n                    event.preventDefault();\n                    setNativeValue(searchInput.current, 'Chennai');\n                    searchInput.current.dispatchEvent(\n                      new Event('input', {bubbles: true})\n                    );\n                  }}\n                >\n                  Chennai\n                </h4>\n              </div>\n              <div className=\"suggestion\">\n                <div>-</div>\n                <h4\n                  onMouseDown={(event) => {\n                    event.preventDefault();\n                    setNativeValue(searchInput.current, 'Jharkhand');\n                    searchInput.current.dispatchEvent(\n                      new Event('input', {bubbles: true})\n                    );\n                  }}\n                >\n                  Jharkhand\n                </h4>\n              </div>\n              <div className=\"suggestion\">\n                <div>-</div>\n                <h4\n                  onMouseDown={(event) => {\n                    event.preventDefault();\n                    setNativeValue(searchInput.current, 'Alappuzha');\n                    searchInput.current.dispatchEvent(\n                      new Event('input', {bubbles: true})\n                    );\n                  }}\n                >\n                  Alappuzha\n                </h4>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(Search);\n"]},"metadata":{},"sourceType":"module"}