{"ast":null,"code":"var _jsxFileName = \"/Users/maclaptop/Documents/GitHub/ashokpandey.com/src/components/patientdb.js\";\nimport DownloadBlock from './downloadblock';\nimport Footer from './footer';\nimport Patients from './patients';\nimport axios from 'axios';\nimport { format, subDays } from 'date-fns';\nimport React, { useState, useEffect } from 'react';\nimport DatePicker from 'react-date-picker';\nimport * as Icon from 'react-feather';\nimport { Helmet } from 'react-helmet';\nimport { useLocation } from 'react-router-dom';\nimport { useEffectOnce, useLocalStorage } from 'react-use';\n\nfunction filterByObject(obj, filters) {\n  const keys = Object.keys(filters);\n  return obj.filter(p => {\n    return keys.every(key => {\n      if (!filters[key].length) return true;\n      return p[key] === filters[key];\n    });\n  });\n}\n\nfunction PatientDB(props) {\n  const [fetched, setFetched] = useState(false);\n  const [patients, setPatients] = useState([]);\n  const [filteredPatients, setFilteredPatients] = useState([]);\n  const {\n    pathname\n  } = useLocation();\n  const [colorMode, setColorMode] = useState('genders');\n  const [scaleMode, setScaleMode] = useState(false);\n  const [filterDate, setFilterDate] = useState(subDays(new Date(), 1));\n  const [showReminder, setShowReminder] = useLocalStorage('showReminder', true);\n  const [message, setMessage] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [filters, setFilters] = useState({\n    detectedstate: '',\n    detecteddistrict: '',\n    detectedcity: '',\n    dateannounced: format(subDays(new Date(), 1), 'dd/MM/yyyy')\n  });\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n  useEffectOnce(() => {\n    try {\n      axios.get('https://api.covid19india.org/raw_data.json').then(response => {\n        setPatients(response.data.raw_data.reverse());\n        setFetched(true);\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  });\n  useEffect(() => {\n    const datePickers = document.querySelectorAll('.react-date-picker__inputGroup input');\n    datePickers.forEach(el => el.setAttribute('readOnly', true));\n  }, []);\n\n  const handleFilters = (label, value) => {\n    setFilters(f => {\n      // Create new object (deep copy)\n      const newFilters = { ...f\n      };\n      newFilters[label] = value;\n\n      if (label === 'detectedstate') {\n        const district = document.getElementById('district');\n        const city = document.getElementById('city'); // Hide boxes\n\n        if (value === '') district.style.display = 'none';else district.style.display = 'inline';\n        city.style.display = 'none'; // Default to empty selection\n\n        district.selectedIndex = 0;\n        city.selectedIndex = 0;\n        newFilters['detecteddistrict'] = '';\n        newFilters['detectedcity'] = '';\n      } else if (label === 'detecteddistrict') {\n        const city = document.getElementById('city'); // Hide box\n\n        if (value === '') city.style.display = 'none';else city.style.display = 'inline'; // Default to empty selection\n\n        city.selectedIndex = 0;\n        newFilters['detectedcity'] = '';\n      }\n\n      return newFilters;\n    });\n  };\n\n  useEffect(() => {\n    if (filterByObject(patients, filters).length > 0) {\n      setFilteredPatients(filterByObject(patients, filters));\n      setMessage(false);\n      setLoading(false);\n    } else {\n      setMessage(true);\n    }\n  }, [patients, filters]);\n\n  function getSortedValues(obj, key) {\n    const setValues = new Set(obj.map(p => p[key]));\n    if (setValues.size > 1) setValues.add('');\n    if (key === 'dateannounced') return Array.from(setValues);\n    return Array.from(setValues).sort();\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PatientsDB\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, \"Demographics - covid19india.org\"), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"title\",\n    content: `Demographics - covid19india.org`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"description\",\n    content: \"A demographical overview of the Indian population affected by the coronavirus.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters fadeInUp\",\n    style: {\n      animationDelay: '0.2s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    style: {\n      animationDelay: '0.3s'\n    },\n    id: \"state\",\n    onChange: event => {\n      handleFilters('detectedstate', event.target.value);\n    },\n    defaultValue: filters.detectedstate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, \"Select State\"), getSortedValues(patients, 'detectedstate').map((state, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }, state === '' ? 'All' : state);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    style: {\n      animationDelay: '0.4s',\n      display: 'none'\n    },\n    id: \"district\",\n    onChange: event => {\n      handleFilters('detecteddistrict', event.target.value);\n    },\n    defaultValue: filters.detecteddistrict,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, \"Select District\"), getSortedValues(filterByObject(patients, {\n    detectedstate: filters.detectedstate\n  }), 'detecteddistrict').map((district, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: district,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    }, district === '' ? 'All' : district);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    style: {\n      animationDelay: '0.4s',\n      display: 'none'\n    },\n    id: \"city\",\n    onChange: event => {\n      handleFilters('detectedcity', event.target.value);\n    },\n    defaultValue: filters.detectedcity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  }, \"Select City\"), getSortedValues(filterByObject(patients, {\n    detectedstate: filters.detectedstate,\n    detecteddistrict: filters.detecteddistrict\n  }), 'detectedcity').map((city, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: city,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 19\n      }\n    }, city === '' ? 'All' : city);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    style: {\n      animationDelay: '0.4s',\n      display: 'none'\n    },\n    id: \"city\",\n    onChange: event => {\n      handleFilters('detectedcity', event.target.value);\n    },\n    defaultValue: filters.detectedcity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 15\n    }\n  }, \"Select City\"), getSortedValues(filterByObject(patients, {\n    detectedstate: filters.detectedstate,\n    detecteddistrict: filters.detecteddistrict\n  }), 'detectedcity').map((city, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: city,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 19\n      }\n    }, city === '' ? 'All' : city);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    value: filterDate,\n    minDate: new Date('30-Jan-2020'),\n    maxDate: subDays(new Date(), 1),\n    format: \"dd/MM/y\",\n    calendarIcon: /*#__PURE__*/React.createElement(Icon.Calendar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 29\n      }\n    }),\n    inputProps: onkeydown = e => {\n      e.preventDefault();\n    },\n    clearIcon: /*#__PURE__*/React.createElement(Icon.XCircle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 26\n      }\n    }),\n    onChange: date => {\n      setFilterDate(date);\n      const fomattedDate = !!date ? format(date, 'dd/MM/yyyy') : '';\n      handleFilters('dateannounced', fomattedDate);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"legend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 9\n    }\n  }, colorMode === 'genders' && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"legend-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-female\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-female\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 15\n    }\n  }, \"Female\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-male\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-male\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 15\n    }\n  }, \"Male\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 15\n    }\n  }, \"Unknown\")), colorMode === 'transmission' && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"legend-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-local\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-local\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 15\n    }\n  }, \"Local\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-imported\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-imported\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 15\n    }\n  }, \"Imported\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 15\n    }\n  }, \"Unknown\")), colorMode === 'nationality' && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"legend-left nationality\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 15\n    }\n  }, \"In\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-uk\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-uk\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 15\n    }\n  }, \"Uk\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-us\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-us\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 15\n    }\n  }, \"Us\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-th\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-thailand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 15\n    }\n  }, \"Th\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-ph\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-ph\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 15\n    }\n  }, \"Ph\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-it\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-it\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 15\n    }\n  }, \"It\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-ca\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-ca\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 15\n    }\n  }, \"Ca\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 15\n    }\n  }, \"Id\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circle is-mm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"is-mm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 15\n    }\n  }, \"Mm\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: `select ${colorMode}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    style: {\n      animationDelay: '0.4s'\n    },\n    onChange: event => {\n      setColorMode(event.target.value);\n    },\n    defaultValue: colorMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"genders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 15\n    }\n  }, \"Genders\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"transmission\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 15\n    }\n  }, \"Transmission\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"nationality\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 15\n    }\n  }, \"Nationality\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header fadeInUp\",\n    style: {\n      animationDelay: '0.3s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 11\n    }\n  }, \"Demographics\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"deep-dive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 13\n    }\n  }, \"Expand\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: scaleMode,\n    onChange: event => {\n      setScaleMode(!scaleMode);\n    },\n    className: \"switch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"disclaimer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 9\n    }\n  }, \"Some of the data provided might be missing/unknown as the details have not been shared by the state/central governments\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"reminder fadeInUp\",\n    style: {\n      animationDelay: '1s',\n      display: showReminder ? '' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Icon.XCircle, {\n    onClick: () => {\n      setShowReminder(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 9\n    }\n  }, \"It is important that we do not think of these as just tiny boxes, numbers, or just another part of statistics - among these are our neighbors, our teachers, our healthcare workers, our supermarket vendors, our friends, our co-workers, our children or our grandparents.\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 11\n    }\n  }), \"Among these are our people.\")), fetched && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"patientdb-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 9\n    }\n  }, loading ? ' ' : message ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-result\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 15\n    }\n  }, \"There were no new cases in\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 17\n    }\n  }, filters.detectedcity.length > 0 ? ` ${filters.detectedcity}, ` : '', filters.detecteddistrict.length > 0 ? ` ${filters.detecteddistrict}, ` : '', ' ' + filters.detectedstate), ' ', \"on \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 20\n    }\n  }, filters.dateannounced, \".\"))) : /*#__PURE__*/React.createElement(Patients, {\n    patients: filteredPatients,\n    colorMode: colorMode,\n    expand: scaleMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(DownloadBlock, {\n    patients: patients,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default PatientDB;","map":{"version":3,"sources":["/Users/maclaptop/Documents/GitHub/ashokpandey.com/src/components/patientdb.js"],"names":["DownloadBlock","Footer","Patients","axios","format","subDays","React","useState","useEffect","DatePicker","Icon","Helmet","useLocation","useEffectOnce","useLocalStorage","filterByObject","obj","filters","keys","Object","filter","p","every","key","length","PatientDB","props","fetched","setFetched","patients","setPatients","filteredPatients","setFilteredPatients","pathname","colorMode","setColorMode","scaleMode","setScaleMode","filterDate","setFilterDate","Date","showReminder","setShowReminder","message","setMessage","loading","setLoading","setFilters","detectedstate","detecteddistrict","detectedcity","dateannounced","window","scrollTo","get","then","response","data","raw_data","reverse","err","console","log","datePickers","document","querySelectorAll","forEach","el","setAttribute","handleFilters","label","value","f","newFilters","district","getElementById","city","style","display","selectedIndex","getSortedValues","setValues","Set","map","size","add","Array","from","sort","animationDelay","event","target","state","index","onkeydown","e","preventDefault","date","fomattedDate"],"mappings":"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","sourcesContent":["import DownloadBlock from './downloadblock';\nimport Footer from './footer';\nimport Patients from './patients';\n\nimport axios from 'axios';\nimport {format, subDays} from 'date-fns';\nimport React, {useState, useEffect} from 'react';\nimport DatePicker from 'react-date-picker';\nimport * as Icon from 'react-feather';\nimport {Helmet} from 'react-helmet';\nimport {useLocation} from 'react-router-dom';\nimport {useEffectOnce, useLocalStorage} from 'react-use';\n\nfunction filterByObject(obj, filters) {\n  const keys = Object.keys(filters);\n  return obj.filter((p) => {\n    return keys.every((key) => {\n      if (!filters[key].length) return true;\n      return p[key] === filters[key];\n    });\n  });\n}\n\nfunction PatientDB(props) {\n  const [fetched, setFetched] = useState(false);\n  const [patients, setPatients] = useState([]);\n  const [filteredPatients, setFilteredPatients] = useState([]);\n  const {pathname} = useLocation();\n  const [colorMode, setColorMode] = useState('genders');\n  const [scaleMode, setScaleMode] = useState(false);\n  const [filterDate, setFilterDate] = useState(subDays(new Date(), 1));\n  const [showReminder, setShowReminder] = useLocalStorage('showReminder', true);\n  const [message, setMessage] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [filters, setFilters] = useState({\n    detectedstate: '',\n    detecteddistrict: '',\n    detectedcity: '',\n    dateannounced: format(subDays(new Date(), 1), 'dd/MM/yyyy'),\n  });\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  useEffectOnce(() => {\n    try {\n      axios\n        .get('https://api.covid19india.org/raw_data.json')\n        .then((response) => {\n          setPatients(response.data.raw_data.reverse());\n          setFetched(true);\n        });\n    } catch (err) {\n      console.log(err);\n    }\n  });\n\n  useEffect(() => {\n    const datePickers = document.querySelectorAll(\n      '.react-date-picker__inputGroup input'\n    );\n    datePickers.forEach((el) => el.setAttribute('readOnly', true));\n  }, []);\n\n  const handleFilters = (label, value) => {\n    setFilters((f) => {\n      // Create new object (deep copy)\n      const newFilters = {...f};\n      newFilters[label] = value;\n      if (label === 'detectedstate') {\n        const district = document.getElementById('district');\n        const city = document.getElementById('city');\n        // Hide boxes\n        if (value === '') district.style.display = 'none';\n        else district.style.display = 'inline';\n        city.style.display = 'none';\n        // Default to empty selection\n        district.selectedIndex = 0;\n        city.selectedIndex = 0;\n        newFilters['detecteddistrict'] = '';\n        newFilters['detectedcity'] = '';\n      } else if (label === 'detecteddistrict') {\n        const city = document.getElementById('city');\n        // Hide box\n        if (value === '') city.style.display = 'none';\n        else city.style.display = 'inline';\n        // Default to empty selection\n        city.selectedIndex = 0;\n        newFilters['detectedcity'] = '';\n      }\n      return newFilters;\n    });\n  };\n\n  useEffect(() => {\n    if (filterByObject(patients, filters).length > 0) {\n      setFilteredPatients(filterByObject(patients, filters));\n      setMessage(false);\n      setLoading(false);\n    } else {\n      setMessage(true);\n    }\n  }, [patients, filters]);\n\n  function getSortedValues(obj, key) {\n    const setValues = new Set(obj.map((p) => p[key]));\n    if (setValues.size > 1) setValues.add('');\n    if (key === 'dateannounced') return Array.from(setValues);\n    return Array.from(setValues).sort();\n  }\n\n  return (\n    <div className=\"PatientsDB\">\n      <Helmet>\n        <title>Demographics - covid19india.org</title>\n        <meta name=\"title\" content={`Demographics - covid19india.org`} />\n        <meta\n          name=\"description\"\n          content=\"A demographical overview of the Indian population affected by the coronavirus.\"\n        />\n      </Helmet>\n\n      <div className=\"filters fadeInUp\" style={{animationDelay: '0.2s'}}>\n        <div className=\"filters-left\">\n          <div className=\"select\">\n            <select\n              style={{animationDelay: '0.3s'}}\n              id=\"state\"\n              onChange={(event) => {\n                handleFilters('detectedstate', event.target.value);\n              }}\n              defaultValue={filters.detectedstate}\n            >\n              <option value=\"\" disabled>\n                Select State\n              </option>\n              {getSortedValues(patients, 'detectedstate').map(\n                (state, index) => {\n                  return (\n                    <option key={index} value={state}>\n                      {state === '' ? 'All' : state}\n                    </option>\n                  );\n                }\n              )}\n            </select>\n          </div>\n\n          <div className=\"select\">\n            <select\n              style={{animationDelay: '0.4s', display: 'none'}}\n              id=\"district\"\n              onChange={(event) => {\n                handleFilters('detecteddistrict', event.target.value);\n              }}\n              defaultValue={filters.detecteddistrict}\n            >\n              <option value=\"\" disabled>\n                Select District\n              </option>\n              {getSortedValues(\n                filterByObject(patients, {\n                  detectedstate: filters.detectedstate,\n                }),\n                'detecteddistrict'\n              ).map((district, index) => {\n                return (\n                  <option key={index} value={district}>\n                    {district === '' ? 'All' : district}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n\n          <div className=\"select\">\n            <select\n              style={{animationDelay: '0.4s', display: 'none'}}\n              id=\"city\"\n              onChange={(event) => {\n                handleFilters('detectedcity', event.target.value);\n              }}\n              defaultValue={filters.detectedcity}\n            >\n              <option value=\"\" disabled>\n                Select City\n              </option>\n              {getSortedValues(\n                filterByObject(patients, {\n                  detectedstate: filters.detectedstate,\n                  detecteddistrict: filters.detecteddistrict,\n                }),\n                'detectedcity'\n              ).map((city, index) => {\n                return (\n                  <option key={index} value={city}>\n                    {city === '' ? 'All' : city}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n\n          <div className=\"select\">\n            <select\n              style={{animationDelay: '0.4s', display: 'none'}}\n              id=\"city\"\n              onChange={(event) => {\n                handleFilters('detectedcity', event.target.value);\n              }}\n              defaultValue={filters.detectedcity}\n            >\n              <option value=\"\" disabled>\n                Select City\n              </option>\n              {getSortedValues(\n                filterByObject(patients, {\n                  detectedstate: filters.detectedstate,\n                  detecteddistrict: filters.detecteddistrict,\n                }),\n                'detectedcity'\n              ).map((city, index) => {\n                return (\n                  <option key={index} value={city}>\n                    {city === '' ? 'All' : city}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n\n          <div className=\"select\">\n            <DatePicker\n              value={filterDate}\n              minDate={new Date('30-Jan-2020')}\n              maxDate={subDays(new Date(), 1)}\n              format=\"dd/MM/y\"\n              calendarIcon={<Icon.Calendar />}\n              inputProps={\n                (onkeydown = (e) => {\n                  e.preventDefault();\n                })\n              }\n              clearIcon={<Icon.XCircle />}\n              onChange={(date) => {\n                setFilterDate(date);\n                const fomattedDate = !!date ? format(date, 'dd/MM/yyyy') : '';\n                handleFilters('dateannounced', fomattedDate);\n              }}\n            />\n          </div>\n\n          {/* <div className=\"select\">\n            <select\n              style={{animationDelay: '0.4s'}}\n              onChange={(event) => {\n                handleFilters('dateannounced', event.target.value);\n              }}\n            >\n              {Array.from(new Set(patients.map((p) => p.dateannounced))).map(\n                (date, index) => {\n                  return (\n                    <option key={index} value={date}>\n                      {date}\n                    </option>\n                  );\n                }\n              )}\n            </select>\n          </div>*/}\n        </div>\n\n        <div className=\"legend\">\n          {colorMode === 'genders' && (\n            <div className=\"legend-left\">\n              <div className=\"circle is-female\"></div>\n              <h5 className=\"is-female\">Female</h5>\n              <div className=\"circle is-male\"></div>\n              <h5 className=\"is-male\">Male</h5>\n              <div className=\"circle\"></div>\n              <h5 className=\"\">Unknown</h5>\n            </div>\n          )}\n\n          {colorMode === 'transmission' && (\n            <div className=\"legend-left\">\n              <div className=\"circle is-local\"></div>\n              <h5 className=\"is-local\">Local</h5>\n              <div className=\"circle is-imported\"></div>\n              <h5 className=\"is-imported\">Imported</h5>\n              <div className=\"circle\"></div>\n              <h5 className=\"\">Unknown</h5>\n            </div>\n          )}\n\n          {colorMode === 'nationality' && (\n            <div className=\"legend-left nationality\">\n              <div className=\"circle is-in\"></div>\n              <h5 className=\"is-in\">In</h5>\n              <div className=\"circle is-uk\"></div>\n              <h5 className=\"is-uk\">Uk</h5>\n              <div className=\"circle is-us\"></div>\n              <h5 className=\"is-us\">Us</h5>\n              <div className=\"circle is-th\"></div>\n              <h5 className=\"is-thailand\">Th</h5>\n              <div className=\"circle is-ph\"></div>\n              <h5 className=\"is-ph\">Ph</h5>\n              <div className=\"circle is-it\"></div>\n              <h5 className=\"is-it\">It</h5>\n              <div className=\"circle is-ca\"></div>\n              <h5 className=\"is-ca\">Ca</h5>\n              <div className=\"circle is-id\"></div>\n              <h5 className=\"is-id\">Id</h5>\n              <div className=\"circle is-mm\"></div>\n              <h5 className=\"is-mm\">Mm</h5>\n            </div>\n          )}\n\n          <div className={`select ${colorMode}`}>\n            <select\n              style={{animationDelay: '0.4s'}}\n              onChange={(event) => {\n                setColorMode(event.target.value);\n              }}\n              defaultValue={colorMode}\n            >\n              {/* <option value=\"\" disabled>\n                Color modes\n              </option> */}\n              <option value=\"genders\">Genders</option>\n              <option value=\"transmission\">Transmission</option>\n              <option value=\"nationality\">Nationality</option>\n              {/* <option value=\"age\">Age</option>*/}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"header fadeInUp\" style={{animationDelay: '0.3s'}}>\n        <div>\n          <h1>Demographics</h1>\n\n          <div className=\"deep-dive\">\n            <h5>Expand</h5>\n            <input\n              type=\"checkbox\"\n              checked={scaleMode}\n              onChange={(event) => {\n                setScaleMode(!scaleMode);\n              }}\n              className=\"switch\"\n            />\n          </div>\n        </div>\n        <h6 className=\"disclaimer\">\n          Some of the data provided might be missing/unknown as the details have\n          not been shared by the state/central governments\n        </h6>\n      </div>\n\n      <div\n        className=\"reminder fadeInUp\"\n        style={{animationDelay: '1s', display: showReminder ? '' : 'none'}}\n      >\n        <Icon.XCircle\n          onClick={() => {\n            setShowReminder(false);\n          }}\n        />\n        <p>\n          It is important that we do not think of these as just tiny boxes,\n          numbers, or just another part of statistics - among these are our\n          neighbors, our teachers, our healthcare workers, our supermarket\n          vendors, our friends, our co-workers, our children or our\n          grandparents.\n          <br />\n          <br />\n          Among these are our people.\n        </p>\n      </div>\n\n      {fetched && (\n        <div className=\"patientdb-wrapper\">\n          {loading ? (\n            ' '\n          ) : message ? (\n            <div className=\"no-result\">\n              <h5>\n                There were no new cases in\n                <span>\n                  {filters.detectedcity.length > 0\n                    ? ` ${filters.detectedcity}, `\n                    : ''}\n                  {filters.detecteddistrict.length > 0\n                    ? ` ${filters.detecteddistrict}, `\n                    : ''}\n                  {' ' + filters.detectedstate}\n                </span>{' '}\n                on <span>{filters.dateannounced}.</span>\n              </h5>\n            </div>\n          ) : (\n            <Patients\n              patients={filteredPatients}\n              colorMode={colorMode}\n              expand={scaleMode}\n            />\n          )}\n        </div>\n      )}\n\n      <DownloadBlock patients={patients} />\n      <Footer />\n    </div>\n  );\n}\n\nexport default PatientDB;\n"]},"metadata":{},"sourceType":"module"}